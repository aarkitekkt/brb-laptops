<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="KSL OF LAPTOPS" content="">
    <meta name="BRB" content="">

    <title>Welcome</title>
    <link href='http://fonts.googleapis.com/css?family=Lato:300,400,700' rel='stylesheet' type='text/css'>
    <link href="css/gallery-dark-materialize.min.css" rel="stylesheet">
    <link rel="stylesheet" href="css/styles.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>

<body>
    {{{ body }}}
</body>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script src="js/sell.js"></script>
<script src="js/imagesloaded.pkgd.min.js"></script>
<script src="js/masonry.pkgd.min.js"></script>
<script src="js/materialize.min.js"></script>
<script src="js/color-thief.min.js"></script>

<script src="js/galleryExpand.js"></script>
<script src="js/init.js"></script>
<!-- The core Firebase JS SDK is always required and must be listed first -->
<!-- The core Firebase JS SDK is always required and must be listed first -->


<script src="https://www.gstatic.com/firebasejs/7.10.0/firebase-app.js"></script>
<!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->
<script src="https://www.gstatic.com/firebasejs/7.10.0/firebase-analytics.js"></script>
<script src="https://www.gstatic.com/firebasejs/7.10.0/firebase-storage.js"></script>



<script>
    // Your web app's Firebase configuration
    var firebaseConfig = {
        apiKey: "AIzaSyByHflVSt-95YP4yWECkiK6vLGTguS7KFU",
        authDomain: "future-force-270416.firebaseapp.com",
        databaseURL: "https://future-force-270416.firebaseio.com",
        projectId: "future-force-270416",
        storageBucket: "future-force-270416.appspot.com",
        messagingSenderId: "397427626203",
        appId: "1:397427626203:web:e353a58a74c91413f6bcfe",
        measurementId: "G-H126PY4SSJ"
    };
    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);
    firebase.analytics();



    var mainPictureButton = document.getElementById("mainPictureButton");
    var secondaryPictureButton = document.getElementById("secondaryPictureButton");
    var uploader = document.getElementById("uploader");
    var secondaryUploader = document.getElementById("secondaryUploader")






    mainPictureButton.addEventListener("change", function (e) {

        console.log(e.target.files[0].name)
        // get file
        var file = e.target.files[0];


        // create a storage ref
        var storageRef = firebase.storage().ref("images/" + file.name);

        //  upload file
        var task = storageRef.put(file);

        // update progress bar
        task.on('state_changed',
            function progress(snapshot) {
                var percentage = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;
                uploader.value = percentage;
            },

            function error(err) {

            },

            function complete() {
                var URL = task.snapshot.ref.getDownloadURL().then(function (downloadURL) { console.log(downloadURL) })
                return URL;

            })

    })

    secondaryPictureButton.addEventListener("change", function (e) {

        console.log(e.target.files[0].name)
        // get file
        var file = e.target.files[0];


        // create a storage ref
        var storageRef = firebase.storage().ref("secondaryimages/" + file.name);

        //  upload file
        var task = storageRef.put(file);

        // update progress bar
        task.on('state_changed',
            function progress(snapshot) {
                var percentage = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;
                secondaryUploader.value = percentage;
            },

            function error(err) {

            },

            function complete() {

                var secondaryURL = task.snapshot.ref.getDownloadURL().then(function (downloadURL) { console.log(downloadURL) })
                return secondaryURL;

            })

    })


</script>


</html>